# TkVoiceJourney - 现代化PySide6界面

## 🎨 界面特点

这是一个美观、优雅、简洁的现代化语音聊天界面，采用PySide6构建，具有以下特点：

### ✨ 视觉设计
- **现代化扁平设计**：采用Material Design风格，界面简洁美观
- **渐变色彩方案**：柔和的渐变色彩，提供舒适的视觉体验
- **响应式布局**：自适应窗口大小，支持拖拽调整
- **消息气泡**：仿聊天应用的对话气泡设计
- **状态指示器**：实时显示连接状态和处理进度

### 🚀 功能特性
- **实时状态显示**：连接状态、处理进度一目了然
- **智能消息管理**：自动滚动、消息时间戳、支持文本选择
- **音频自动保存**：生成的音频自动保存到output目录
- **多线程处理**：不阻塞界面，流畅的用户体验
- **快捷键支持**：Ctrl+Enter快速发送消息
- **错误提示**：友好的错误提示和故障排除建议

## 📦 安装依赖

```bash
# 安装所有依赖（包括PySide6）
pip install -r requirements.txt

# 或单独安装PySide6
pip install PySide6>=6.6.0
```

## 🚀 启动应用

### 方法1：使用专用启动脚本（推荐）
```bash
python run_pyside6_app.py
```

### 方法2：直接运行GUI模块
```bash
python src/gui/pyside6_app.py
```

## ⚙️ 配置说明

在启动前，请确保已正确配置`.env`文件：

```env
# LLM配置
LLM_MODE=openai
OPENAI_API_KEY=your_openai_api_key
OPENAI_MODEL=gpt-4o-mini

# Fish Audio TTS配置
FISH_API_KEY=your_fish_api_key
FISH_REFERENCE_ID=your_reference_id

# 音频输出目录
OUTPUT_DIR=output
```

## 🎯 使用指南

### 基本操作
1. **发送消息**：在底部输入框中输入文本，点击"发送并生成语音"按钮或按Ctrl+Enter
2. **播放控制**：使用"停止播放"按钮随时停止音频播放
3. **清空对话**：点击"清空对话"按钮重新开始
4. **保存音频**：点击"保存音频"查看保存说明

### 界面说明
- **顶部标题栏**：显示应用标题和连接状态
- **聊天区域**：显示对话历史，支持滚动查看
- **输入区域**：文本输入和控制按钮
- **状态指示器**：显示当前连接和处理状态

### 音频文件
- **保存位置**：项目根目录的`output/`文件夹
- **文件命名**：`voice_chat_YYYYMMDD_HHMMSS.mp3`
- **自动保存**：每次生成的音频都会自动保存

## 🎨 界面预览

### 主界面
- 顶部：渐变色标题栏 + 状态指示器
- 中间：消息气泡对话区域
- 底部：输入框 + 功能按钮

### 消息气泡
- **用户消息**：蓝色气泡，右对齐
- **AI回复**：灰色气泡，左对齐
- **系统消息**：带时间戳，支持文本选择

### 按钮样式
- **主要按钮**：绿色渐变，圆角设计
- **次要按钮**：灰色边框，悬停效果
- **禁用状态**：自动变灰，防止重复点击

## 🔧 故障排除

### 依赖问题
如果出现导入错误：
```bash
pip install --upgrade PySide6 httpx websockets pygame python-dotenv
```

### 音频问题
如果音频播放失败：
1. 检查pygame音频驱动
2. 确认系统音频设备正常
3. 检查音频文件权限

### 配置问题
如果连接失败：
1. 检查`.env`文件配置
2. 验证API密钥有效性
3. 测试网络连接

## 📋 系统要求

- **Python**: 3.8+
- **操作系统**: Windows / macOS / Linux
- **内存**: 建议4GB+
- **网络**: 稳定的互联网连接

## 🆚 对比Tkinter版本

| 特性 | PySide6版本 | Tkinter版本 |
|------|------------|-------------|
| 界面美观度 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ |
| 现代化设计 | ✅ | ❌ |
| 响应式布局 | ✅ | 部分支持 |
| 动画效果 | ✅ | ❌ |
| 自定义样式 | ✅ | 有限 |
| 跨平台一致性 | ✅ | ❌ |
| 资源占用 | 中等 | 低 |
| 启动速度 | 中等 | 快 |

## 📝 更新日志

### v2.0.0 (PySide6版本)
- ✨ 全新现代化界面设计
- 🎨 Material Design风格
- 💬 消息气泡对话界面
- 🔄 实时状态指示器
- 💾 音频自动保存到output目录
- ⚡ 多线程优化，不阻塞界面
- 🎯 快捷键支持
- 🛡️ 完善的错误处理

## 📞 技术支持

如有问题，请：
1. 检查配置文件
2. 查看错误日志
3. 参考故障排除指南
4. 联系开发者 